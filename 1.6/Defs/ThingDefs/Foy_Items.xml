<?xml version="1.0" encoding="utf-8" ?>
<Defs>
	<ThingDef ParentName="MechSerumBase">
    <defName>ZI_Foy_Injector_Overdose</defName>
    <label>FOY Injector (130%)</label>
    <description>A one-use over-dose of regression nanites, from the fountain of youth. Enough to heal major injuries and even resurrect the dead. Administered to a corpse, the overdose will regress the body to the age of a baby, heal any and all injuries and trigger its rebirth. While having no other known sideeffects, there is currently no known way to lower the amount of regression, beside waiting for its natural progression. Can only be administered to a fresh body, but if a body is preserved, it can even be resurrected long after death. (Causes 120% mental and physical regression)</description>
		<descriptionHyperlinks>
      <HediffDef>PhysicalRegressionDamage</HediffDef>
			<HediffDef>MentalRegressionDamage</HediffDef>
    </descriptionHyperlinks>
    <graphicData>
      <texPath>Things/Item/Injector</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <stackLimit>10</stackLimit>
    <statBases>
			<MarketValue>750</MarketValue>
    </statBases>
    <thingCategories>
      <li>Drugs</li>
    </thingCategories>
    <tradeability>Sellable</tradeability>
    <comps>
			<li Class="CompProperties_Usable">
				<useJob>UseItem</useJob>
				<useLabel>Use {0_label}</useLabel>
				<useDuration>0</useDuration>
				<warmupMote>Mote_ResurrectAbility</warmupMote>
				<showUseGizmo>true</showUseGizmo>
			</li>

			<li Class="CompProperties_Targetable">
				<compClass>CompTargetable_SingleCorpse</compClass>
				<fleshCorpsesOnly>true</fleshCorpsesOnly>
				<nonDessicatedCorpsesOnly>true</nonDessicatedCorpsesOnly>
			</li>

			<li Class="ZealousInnocence.CompProperties_TargetEffectFoyDose">
				<minDose>1</minDose>
				<maxDose>1</maxDose>
				<defaultDose>1</defaultDose>
				<severityPerDose>1.30</severityPerDose>
				<hediffCaused>RegressionDamage_FoyWater_Injected</hediffCaused>
				<moteDef>Mote_ResurrectFlash</moteDef>
			</li>
    </comps>
  </ThingDef>
	
	<!--<ThingDef ParentName="MechSerumBase">
    <defName>ZI_Foy_Flask_Full</defName>
    <label>FOY Dose (Full)</label>
    <description>A full vial of concentrated water from the fountain of youth. Administered to or taken by a living body it might regress them to a child and heal any brain injuries. While having no other known sideeffects, there is currently no known way to lower the amount of regression, beside waiting for its natural progression.</description>
    <graphicData>
      <texPath>Things/Item/Flask</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <stackLimit>10</stackLimit>
    <statBases>
      <MarketValue>50</MarketValue>
    </statBases>
    <thingCategories>
      <li>Drugs</li>
    </thingCategories>
    <tradeability>Sellable</tradeability>
    <comps>
      <li Class="CompProperties_Usable">
        <useJob>UseItem</useJob>
        <useLabel>Use {0_label}</useLabel>
        <showUseGizmo>true</showUseGizmo>
      </li>
			<li Class="ZealousInnocence.CompProperties_UseEffectInjectNanites">
				<hediffDef>PhysicalRegressionDamage</hediffDef>
				<severity>1.0</severity>
				<minIncrease>0.2</minIncrease>
			</li>
      <li Class="CompProperties_UseEffectDestroySelf" />
    </comps>
  </ThingDef>-->

	<RecipeDef>
		<defName>Make_ZI_Foy_Injector_Overdose</defName>
		<label>craft FOY injector (130%)</label>
		<description>Synthesize an overdose FOY injector from concentrated FOY vials.</description>
		<jobString>Synthesizing a FOY injectorâ€¦</jobString>

		<workSpeedStat>DrugSynthesisSpeed</workSpeedStat>
		<workAmount>2400</workAmount>
		<effectWorking>Cook</effectWorking>
		<soundWorking>Recipe_Drug</soundWorking>

		<recipeUsers>
			<li>DrugLab</li>
		</recipeUsers>

		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>ZI_Foy_Vial</li>
					</thingDefs>
				</filter>
				<count>13</count>
			</li>
		</ingredients>

		<products>
			<ZI_Foy_Injector_Overdose>1</ZI_Foy_Injector_Overdose>
		</products>

		<workSkill>Crafting</workSkill>

		<displayPriority>5</displayPriority>
	</RecipeDef>
		
	<RecipeDef>
    <defName>AdministerFoyOverDose</defName>
    <label>administer FOY overdose</label>
    <description>Administer FOY (130%).</description>
		<descriptionHyperlinks>
	    <HediffDef>PhysicalRegressionDamage</HediffDef>
			<HediffDef>MentalRegressionDamage</HediffDef>
    </descriptionHyperlinks>
    <workerClass>Recipe_AdministerUsableItem</workerClass>
    <jobString>Administering regression.</jobString>
    <targetsBodyPart>false</targetsBodyPart>
    <anesthetize>false</anesthetize>
    <workAmount>600</workAmount>
    <dontShowIfAnyIngredientMissing>true</dontShowIfAnyIngredientMissing>
    <surgeryOutcomeEffect IsNull="True"/>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>ZI_Foy_Vial</li>
          </thingDefs>
        </filter>
        <count>13</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>ZI_Foy_Vial</li>
      </thingDefs>
    </fixedIngredientFilter>
  </RecipeDef>
	
	<RecipeDef>
    <defName>AdministerFoyFullDose</defName>
    <label>administer full FOY dose</label>
    <description>Administer FOY (100%).</description>
		<descriptionHyperlinks>
	    <HediffDef>PhysicalRegressionDamage</HediffDef>
			<HediffDef>MentalRegressionDamage</HediffDef>
    </descriptionHyperlinks>
    <workerClass>Recipe_AdministerUsableItem</workerClass>
    <jobString>Administering regression.</jobString>
    <targetsBodyPart>false</targetsBodyPart>
    <anesthetize>false</anesthetize>
    <workAmount>600</workAmount>
    <dontShowIfAnyIngredientMissing>true</dontShowIfAnyIngredientMissing>
    <surgeryOutcomeEffect IsNull="True"/>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>ZI_Foy_Vial</li>
          </thingDefs>
        </filter>
        <count>10</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>ZI_Foy_Vial</li>
      </thingDefs>
    </fixedIngredientFilter>
  </RecipeDef>
	
	<RecipeDef>
    <defName>AdministerFoyHalfDose</defName>
    <label>administer half FOY dose</label>
    <description>Administer FOY (50%).</description>
		<descriptionHyperlinks>
	    <HediffDef>PhysicalRegressionDamage</HediffDef>
			<HediffDef>MentalRegressionDamage</HediffDef>
    </descriptionHyperlinks>
    <workerClass>Recipe_AdministerUsableItem</workerClass>
    <jobString>Administering regression.</jobString>
    <targetsBodyPart>false</targetsBodyPart>
    <anesthetize>false</anesthetize>
    <workAmount>600</workAmount>
    <dontShowIfAnyIngredientMissing>true</dontShowIfAnyIngredientMissing>
    <surgeryOutcomeEffect IsNull="True"/>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>ZI_Foy_Vial</li>
          </thingDefs>
        </filter>
        <count>5</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>ZI_Foy_Vial</li>
      </thingDefs>
    </fixedIngredientFilter>
  </RecipeDef>
	<!--<ThingDef ParentName="ZI_Foy">
    <defName>ZI_Foy_Flask</defName>
    <label>FOY Flask (50%)</label>
    <description>A full vial of concentrated water from the fountain of youth. Administered to or taken by a living body it might regress them to a child and heal any brain injuries. While having no other known sideeffects, there is currently no known way to lower the amount of regression, beside waiting for its natural progression.</description>
    <graphicData>
      <texPath>Things/Item/Vial</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>0.88</drawSize>
    </graphicData>
		<statBases>
      <MarketValue>20</MarketValue>
      <Mass>0.01</Mass>
    </statBases>
		<ingestible>
		  <outcomeDoers>
        <li Class="IngestionOutcomeDoer_GiveHediff">
          <hediffDef>RegressionDamage</hediffDef>
          <severity>0.50</severity>
          <doToGeneratedPawnIfAddicted>true</doToGeneratedPawnIfAddicted>
        </li>
      </outcomeDoers>
		</ingestible>
	</ThingDef>-->
	<ThingDef ParentName="ZI_Foy">
    <defName>ZI_Foy_Vial</defName>
    <label>FOY Water (10%)</label>
    <description>Water from the fountain of youth. Can be directly ingested or used as an ingredient for many regression related technologies. (Causes 10% physical and 5% mental regression per dose)</description>
		<graphicData>
			<texPath>Things/Item/Vials</texPath>
			<graphicClass>ZealousInnocence.Graphic_StackCount4</graphicClass>
			<drawSize>0.88</drawSize>
		</graphicData>
		<statBases>
			<MarketValue>50</MarketValue>
			<MaxHitPoints>60</MaxHitPoints>
			<Flammability>0.2</Flammability>
			<Mass>0.25</Mass>
			<DeteriorationRate>12</DeteriorationRate>
		</statBases>
		<ingestible>
		  <outcomeDoers>
        <li Class="IngestionOutcomeDoer_GiveHediff">
          <hediffDef>RegressionDamage_FoyWater_Ingested</hediffDef>
          <severity>0.10</severity>
          <doToGeneratedPawnIfAddicted>true</doToGeneratedPawnIfAddicted>
        </li>
      </outcomeDoers>
		</ingestible>
		<comps>
			<li Class="CompProperties_Usable">
				<useJob>UseItem</useJob>
				<useLabel>Use {0_label}</useLabel>
				<useDuration>0</useDuration>
				<warmupMote>Mote_ResurrectAbility</warmupMote>
				<showUseGizmo>true</showUseGizmo>
			</li>

			<li Class="CompProperties_Targetable">
				<compClass>ZealousInnocence.CompTargetable_SinglePawnOrCorpseOrAnimal</compClass>
			</li>

			<li Class="ZealousInnocence.CompProperties_TargetEffectFoyDose">
				<minDose>1</minDose>
				<maxDose>13</maxDose>
				<defaultDose>1</defaultDose>
				<severityPerDose>0.10</severityPerDose>
				<hediffCaused>RegressionDamage_FoyWater_Ingested</hediffCaused>
				<moteDef>Mote_ResurrectFlash</moteDef>
			</li>
		</comps>
		<modExtensions>
			<li Class="DubsBadHygiene.WaterExt">
				<water>1</water>
				<UseForWashing>false</UseForWashing>
				<SeekForThirst>false</SeekForThirst>
			</li>
		</modExtensions>
		<pathCost>15</pathCost>
		<generateAllowChance>0</generateAllowChance>
		<generateCommonality>0</generateCommonality>
		<stackLimit>20</stackLimit>
	</ThingDef>
	
	<ThingDef Name="ZI_Foy" ParentName="DrugPillBase" Abstract="True">
    <descriptionHyperlinks>
      <HediffDef>PhysicalRegressionDamage</HediffDef>
			<HediffDef>MentalRegressionDamage</HediffDef>
    </descriptionHyperlinks>
    <rotatable>false</rotatable>
		<soundInteract>Standard_Drop</soundInteract>
    <soundDrop>Standard_Drop</soundDrop>
    <techLevel>Ultra</techLevel>
    <minRewardCount>20</minRewardCount>
    <ingestible>
			<baseIngestTicks>90</baseIngestTicks>
			<preferability>NeverForNutrition</preferability>
      <foodType>Processed, Fluid</foodType>
      <drugCategory>Medical</drugCategory>
			<ingestCommandString>Drink {0}</ingestCommandString>
      <ingestReportString>Drinking {0}.</ingestReportString>
      <chairSearchRadius>5</chairSearchRadius>
      <canAutoSelectAsFoodForCaravan>false</canAutoSelectAsFoodForCaravan>
      <tableDesired>false</tableDesired>
			<canAutoSelectAsFoodForCaravan>false</canAutoSelectAsFoodForCaravan>
      <tableDesired>false</tableDesired>
			<ingestSound>Ingest_Beer</ingestSound>
    </ingestible>
		<thingCategories>
			<li>Foods</li>
		</thingCategories>
    <comps>
      <li Class="CompProperties_Drug">
        <listOrder>1000</listOrder>
        <overdoseSeverityOffset>0.08~0.14</overdoseSeverityOffset>
      </li>
    </comps>
    <tradeTags>
      <li>ExoticMisc</li>
    </tradeTags>

    <allowedArchonexusCount>200</allowedArchonexusCount>
  </ThingDef>
	
	<!--<ThingDef ParentName="MechSerumBase">
    <defName>MechSerumHealer</defName>
    <label>healer mech serum</label>
    <description>A one-use super-dose of mechanites tuned to heal health conditions. The mechanites will target and heal the single worst health condition affecting someone at any given time. Works even on health conditions that would otherwise be incurable. The mechanites can even transmute themselves into organic matter, forming new limbs or organs as needed.</description>
    <graphicData>
      <texPath>Things/Item/Special/MechSerumHealer</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <stackLimit>10</stackLimit>
    <statBases>
      <MarketValue>1300</MarketValue>
    </statBases>
    <thingCategories>
      <li>Drugs</li>
    </thingCategories>
    <tradeability>Sellable</tradeability>
    <comps>
      <li Class="CompProperties_Usable">
        <useJob>UseItem</useJob>
        <useLabel>Use {0_label}</useLabel>
        <useDuration>600</useDuration>
        <showUseGizmo>true</showUseGizmo>
      </li>
      <li Class="CompProperties_UseEffect">
        <compClass>CompUseEffect_FixWorstHealthCondition</compClass>
      </li>
      <li Class="CompProperties_UseEffectPlaySound">
        <soundOnUsed>MechSerumUsed</soundOnUsed>
      </li>
      <li Class="CompProperties_UseEffectDestroySelf" />
    </comps>
    <thingSetMakerTags>
      <li>RewardStandardCore</li>
    </thingSetMakerTags>
  </ThingDef>-->
</Defs>