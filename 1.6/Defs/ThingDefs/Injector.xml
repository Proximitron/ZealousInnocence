<?xml version="1.0" encoding="utf-8" ?>
<Defs>
	<ThingDef ParentName="MechSerumBase">
    <defName>ZI_Foy_Injector_Overdose</defName>
    <label>FOY Injector (150%)</label>
    <description>A one-use over-dose of regression nanites, from the fountain of youth. Enough to heal major injuries and even resurrect the dead. Administered to a corpse, the overdose will regress the body to the age of a baby, heal any and all injuries and trigger its rebirth. While having no other known sideeffects, there is currently no known way to lower the amount of regression, beside waiting for its natural progression. Can only be administered to a fresh body, but if a body is preserved, it can even be resurrected long after death.</description>
		<descriptionHyperlinks>
      <HediffDef>RegressionDamage</HediffDef>
    </descriptionHyperlinks>
    <graphicData>
      <texPath>Things/Item/Injector</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <stackLimit>10</stackLimit>
    <statBases>
      <MarketValue>70</MarketValue>
    </statBases>
    <thingCategories>
      <li>Drugs</li>
    </thingCategories>
    <tradeability>Sellable</tradeability>
    <comps>
			<li Class="CompProperties_Usable">
				<useJob>UseItem</useJob>
				<useLabel>Use {0_label}</useLabel>
				<useDuration>0</useDuration>
				<warmupMote>Mote_ResurrectAbility</warmupMote>
				<showUseGizmo>true</showUseGizmo>
			</li>

			<li Class="CompProperties_Targetable">
				<compClass>CompTargetable_SingleCorpse</compClass>
				<fleshCorpsesOnly>true</fleshCorpsesOnly>
				<nonDessicatedCorpsesOnly>true</nonDessicatedCorpsesOnly>
			</li>

			<li Class="ZealousInnocence.CompProperties_TargetEffectFoyDose">
				<minDose>1</minDose>
				<maxDose>1</maxDose>
				<defaultDose>1</defaultDose>
				<severityPerDose>1.50</severityPerDose>
				<moteDef>Mote_ResurrectFlash</moteDef>
			</li>
    </comps>
  </ThingDef>
	
	<ThingDef ParentName="MechSerumBase">
    <defName>ZI_Foy_Flask_Full</defName>
    <label>FOY Dose (Full)</label>
    <description>A full vial of concentrated water from the fountain of youth. Administered to or taken by a living body it might regress them to a child and heal any brain injuries. While having no other known sideeffects, there is currently no known way to lower the amount of regression, beside waiting for its natural progression.</description>
    <graphicData>
      <texPath>Things/Item/Flask</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <stackLimit>10</stackLimit>
    <statBases>
      <MarketValue>50</MarketValue>
    </statBases>
    <thingCategories>
      <li>Drugs</li>
    </thingCategories>
    <tradeability>Sellable</tradeability>
    <comps>
      <li Class="CompProperties_Usable">
        <useJob>UseItem</useJob>
        <useLabel>Use {0_label}</useLabel>
        <showUseGizmo>true</showUseGizmo>
      </li>
			<!--<li Class="ZealousInnocence.CompProperties_UseEffectInjectNanites">
				<hediffDef>RegressionDamage</hediffDef>
				<severity>1.0</severity>
				<minIncrease>0.2</minIncrease>
			</li>-->
      <li Class="CompProperties_UseEffectDestroySelf" />
    </comps>
  </ThingDef>
	
	
	<RecipeDef>
    <defName>AdministerFoyFullDose</defName>
    <label>administer full FOY dose</label>
    <description>Administer FOY (100%).</description>
		<descriptionHyperlinks>
      <HediffDef>RegressionDamage</HediffDef>
    </descriptionHyperlinks>
    <workerClass>Recipe_AdministerUsableItem</workerClass>
    <jobString>Administering regression.</jobString>
    <targetsBodyPart>false</targetsBodyPart>
    <anesthetize>false</anesthetize>
    <workAmount>600</workAmount>
    <dontShowIfAnyIngredientMissing>true</dontShowIfAnyIngredientMissing>
    <surgeryOutcomeEffect IsNull="True"/>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>ZI_Foy_Vial</li>
          </thingDefs>
        </filter>
        <count>10</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>ZI_Foy_Vial</li>
      </thingDefs>
    </fixedIngredientFilter>
  </RecipeDef>
	

	<!--<ThingDef ParentName="ZI_Foy">
    <defName>ZI_Foy_Flask</defName>
    <label>FOY Flask (50%)</label>
    <description>A full vial of concentrated water from the fountain of youth. Administered to or taken by a living body it might regress them to a child and heal any brain injuries. While having no other known sideeffects, there is currently no known way to lower the amount of regression, beside waiting for its natural progression.</description>
    <graphicData>
      <texPath>Things/Item/Vial</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>0.88</drawSize>
    </graphicData>
		<statBases>
      <MarketValue>20</MarketValue>
      <Mass>0.01</Mass>
    </statBases>
		<ingestible>
		  <outcomeDoers>
        <li Class="IngestionOutcomeDoer_GiveHediff">
          <hediffDef>RegressionDamage</hediffDef>
          <severity>0.50</severity>
          <doToGeneratedPawnIfAddicted>true</doToGeneratedPawnIfAddicted>
        </li>
      </outcomeDoers>
		</ingestible>
	</ThingDef>-->
	<ThingDef ParentName="ZI_Foy">
    <defName>ZI_Foy_Vial</defName>
    <label>FOY Water (10%)</label>
    <description>Water from the fountain of youth. Can be directly ingested or used as an ingredient for many regression related technologies.</description>
    <graphicData>
      <texPath>Things/Item/Vial</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>0.88</drawSize>
    </graphicData>
		<statBases>
      <MarketValue>20</MarketValue>
      <Mass>0.01</Mass>
    </statBases>
		<ingestible>
		  <outcomeDoers>
        <li Class="IngestionOutcomeDoer_GiveHediff">
          <hediffDef>RegressionDamage</hediffDef>
          <severity>0.05</severity>
          <doToGeneratedPawnIfAddicted>true</doToGeneratedPawnIfAddicted>
        </li>
      </outcomeDoers>
		</ingestible>
		<comps>
			<li Class="CompProperties_Usable">
				<useJob>UseItem</useJob>
				<useLabel>Use {0_label}</useLabel>
				<useDuration>0</useDuration>
				<warmupMote>Mote_ResurrectAbility</warmupMote>
				<showUseGizmo>true</showUseGizmo>
			</li>

			<li Class="CompProperties_Targetable">
				<compClass>CompTargetable_SinglePawn</compClass>
			</li>

			<li Class="ZealousInnocence.CompProperties_TargetEffectFoyDose">
				<minDose>1</minDose>
				<maxDose>30</maxDose>
				<defaultDose>1</defaultDose>
				<severityPerDose>0.05</severityPerDose>
				<moteDef>Mote_ResurrectFlash</moteDef>
			</li>
		</comps>
	</ThingDef>
	<ThingDef Name="ZI_Foy" ParentName="DrugPillBase" Abstract="True">
    <descriptionHyperlinks>
      <HediffDef>RegressionDamage</HediffDef>
    </descriptionHyperlinks>
    <rotatable>false</rotatable>
		<soundInteract>Standard_Drop</soundInteract>
    <soundDrop>Standard_Drop</soundDrop>
    <techLevel>Ultra</techLevel>
    <minRewardCount>20</minRewardCount>
    <ingestible>
      <foodType>Processed, Fluid</foodType>
      <drugCategory>Medical</drugCategory>
			<ingestCommandString>Drink {0}</ingestCommandString>
      <ingestReportString>Drinking {0}.</ingestReportString>
      <chairSearchRadius>25</chairSearchRadius>
      <canAutoSelectAsFoodForCaravan>false</canAutoSelectAsFoodForCaravan>
      <tableDesired>false</tableDesired>
			<canAutoSelectAsFoodForCaravan>false</canAutoSelectAsFoodForCaravan>
      <tableDesired>false</tableDesired>
    </ingestible>
    <comps>
      <li Class="CompProperties_Drug">
        <listOrder>1000</listOrder>
        <overdoseSeverityOffset>0.08~0.14</overdoseSeverityOffset>
      </li>
    </comps>
    <tradeTags>
      <li>ExoticMisc</li>
    </tradeTags>
    <allowedArchonexusCount>200</allowedArchonexusCount>
  </ThingDef>
</Defs>